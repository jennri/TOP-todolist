(()=>{const t=document.querySelector("[data-list]"),e=document.querySelector("[data-new-list]"),a=document.querySelector("[data-new-input]"),n=document.querySelector("[delete-list-btn]"),l=document.querySelector("[data-list-display-container]"),i=document.querySelector("[data-list-title]"),s=document.querySelector("[data-list-count]"),o=document.querySelector("[data-tasks]"),d="task.lists";let r=JSON.parse(localStorage.getItem(d))||[];const c="task.selectedListID";let u=localStorage.getItem(c);function m(){localStorage.setItem(d,JSON.stringify(r)),localStorage.setItem(c,u),S()}function S(){f(t),r.forEach((e=>{const a=document.createElement("li");a.dataset.listId=e.id,a.classList.add("listname"),a.innerText=e.name,e.id===u&&a.classList.add("active"),t.appendChild(a)}));const e=r.find((t=>t.id===u));null==u?l.style.display="none":(l.style.display="",i.innerText=e.name,function(t){const e=t.task.filter((t=>!t.complete)).length,a=1===e?"task":"tasks";s.innerText=`${e} ${a} remaining`}(e),f(o))}function f(t){for(;t.firstChild;)t.removeChild(t.firstChild)}S(),t.addEventListener("click",(t=>{"li"===t.target.tagName.toLowerCase()&&(u=t.target.dataset.listId,m())})),n.addEventListener("click",(()=>{r=r.filter((t=>t.id!==u)),u=null,m()})),e.addEventListener("submit",(t=>{t.preventDefault();const e=a.value;if(null==e||""===e)return;const n=(l=e,{id:Date.now().toString(),name:l,task:[]});var l;a.value=null,r.push(n),m()}))})();