(()=>{const e=document.querySelector("[data-list]"),t=document.querySelector("[data-new-list]"),n=document.querySelector("[data-new-input]"),a=document.querySelector("[delete-list-btn]"),l=document.querySelector("[data-list-display-container]"),i=document.querySelector("[data-list-title]"),o=document.querySelector("[data-list-count]"),c=document.querySelector("[data-tasks]"),d=document.querySelector("[task-template]"),s="task.lists";let r=JSON.parse(localStorage.getItem(s))||[];const u="task.selectedListID";let m=localStorage.getItem(u);function p(){localStorage.setItem(s,JSON.stringify(r)),localStorage.setItem(u,m),S()}function S(){y(e),r.forEach((t=>{const n=document.createElement("li");n.dataset.listId=t.id,n.classList.add("listname"),n.innerText=t.name,t.id===m&&n.classList.add("active"),e.appendChild(n)}));const t=r.find((e=>e.id===m));null==m?l.style.display="none":(l.style.display="",i.innerText=t.name,function(e){const t=e.task.filter((e=>!e.complete)).length,n=1===t?"task":"tasks";o.innerText=`${t} ${n} remaining`}(t),y(c),function(e){e.task.forEach((e=>{const t=document.importNode(d.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const a=t.querySelector("label");a.htmlFor=e.id,a.append(e.name),c.appendChild(t)}))}(t))}function y(e){for(;e.firstChild;)e.removeChild(e.firstChild)}S(),e.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(m=e.target.dataset.listId,p())})),a.addEventListener("click",(()=>{r=r.filter((e=>e.id!==m)),m=null,p()})),t.addEventListener("submit",(e=>{e.preventDefault();const t=n.value;if(null==t||""===t)return;const a=(l=t,{id:Date.now().toString(),name:l,task:[{id:"1",name:"randomm",complete:!0}]});var l;n.value=null,r.push(a),p()}))})();